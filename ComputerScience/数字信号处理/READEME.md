* A/D 变换，模数转换，模拟信号到数字信号（电信号到数字信号）
* D/A 变换，数模转换，数字信号到模拟信号
* 采样定理：
  * 采样：将连续的传感器模拟信号，通过 A/D 转换，转化成能够分析的离散的数字量
  * 采样密度：每个周期应该采几个点
    * 为保证采样后的信号能够真实的保留原始模拟信号的信息，信号的采样频率必须至少为原信号中最高频率成分的2倍，（ie：**一个周期内，至少要采两个点，因为要保证最基本的周期信息**）。
    * 在工程领域，为保证采样信号的质量，一般是要大于 5 倍。

**频率混叠**

![](imgs/fig-1.png)

* 采样是时域乘积，等价于频域卷积，脉冲信号的卷积就是搬移，在频谱脉冲足够宽的情况下，卷积的搬移能够正确的搬移，如果频谱脉冲比较窄，那么搬移的过程中就会重叠。





```matlab
% A/D  变换
Fs=11025; %采样频率
N=44100;  % 采样长度，4s
t=[0:N-1]/N;
x=waverecord(N,Fs);
plot(t, x);
set(gca, 'color', [.95, .95, .95]);
```



```matlab
Fs=44100; %表示此离散数据的采样频率，注意，采样频率和真实数据的频率不是同一个东西
dt=1.0/Fs; %采样间隔, 采样频率的倒数
T=2; % 生成两秒数据
N=T/dt; % 采样点
t=[0:N-1]/N;
x=.3*sin(2*pi*600*t);
plot(t, x);
axis([0, .01, -.5, .5]);
wavplay(x, Fs);
set(gca, 'color', [.95, .95, .95]);
```



## matlab基础

```matlab
x=linspace(0, 4*pi, 100); % 0~4pi 平均取100个点
y=sin(x);
plot(x, y);

% 2-D
x=-8:.5:8;
y=x;
[X,Y]=meshgrid(x,y);
R=sqrt(x.^2 + Y.^2)+eps;
z=sin(R)./R;
mesh(z);

% 显示
plot(x, y)
stem(x, y)
hold on; %后面曲线叠加到前面的曲线上

subplot(2,2,1); plot(x,y);
subplot(2,2,2); plot(x,y);
```

**变量**

* 所有变量默认是双精度变量
* 所有变量默认为矩阵，一个值就是一个 1*1的矩阵
* `==`， `~=` , `&`, `|`
* `*` 矩阵相乘，`.*` 点乘



## 信号函数 与 标准信号

* 信号发生器： **数字信号 --D/A--> 模拟电信号**
  * 正弦波，方波，三角波，锯齿波，白噪声，脉冲信号，阶跃信号，斜坡信号，加速度信号

$$
y(t)=Asin(2\pi ft + \phi)
$$

* $f$ : 正弦波的频率
* $\phi$ : 正弦波的初始相位



**正弦波的离散采样公式**
$$
y(n\Delta t)=Asin(2\pi f n\Delta t + \phi)
$$

* $Fs=\frac{1}{\Delta t}$ : **采样频率**，（和正弦波的频率不是一个 东西） 
* $n=0,1,2,3,...,N$



**方波**
$$
y(t)
\begin{cases}
=A, & -\frac{T}{2}\lt t \le0 \\
=-A, & 0\lt t \le \frac{T}{2}
\end{cases}
$$

* `square(2*pi*fs*t)`



**白噪声**

* `randn(1, n)`

**均匀噪声**

* `rand(1, n)`



## 时域分析

> * 信号波形参数识别
> * 信号的数字微分和数字积分算法



**信号波形参数识别**

* 需要测量的参数有：周期，频率，峰值/双峰值，初相位，均值，均方值（平方的均值），方差
* 均值：反应信号变化的中心趋势，也称以为 直流分量
* 方差：反应信号绕均值的波动程度
* 均方值：信号求平方然后求和，然后取平均。表示信号强度。也是能量的一种表达



**周期/频率，相位的 过零点检测法**

* 两个过零点的时间差就是周期（都是上升沿或者都是下降沿）
* 第一个过零点位置和与周期的比例可算出初相位





**信号的数字微分和数字积分算法**

* 数字微分法（中值法）
  * $n$ 表示第 n 个采样点
  * $\Delta t$ 表示采样间隔

$$
x(n) \approx \frac{x(n+1)-x(n-1)}{2\Delta t}
$$

* 数字积分法（梯形法）

$$
y(n)=y(n-1)+\Delta t *\Bigr[x(n)+x(n-1)\Bigr] / 2
$$



**图像边缘检测**

* 使用二维数字微分，对于离散的值来说，微分符号就变成了微分算子, 下面是用来检测垂直边缘的算子。

$$
sobel=
\begin{matrix}
-1 & 0 & 1 \\
-2 & 0 & 2 \\
-1 & 0 & 1
\end{matrix}
$$

```matlab
vid=videoinput('winvideo', 1, 'YUY2_640*480');
set(vid, 'ReturnedColorSpace', 'rgb');
preview(vid);
pause;
start(vid);
for(i=1:10)
  getpic=getsnapshot(vid);
  filename=int2str(i);
  filename=[filename, '.jpg'];
  imwrite(getpic,filename);
  pause(0.5);
 end
 
 stop(vid);
 closepreview(vid);
 delete(vid);
 clear;
```

