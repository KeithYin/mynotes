# numpy 的广播机制

广播是`numpy`中不同形状的数组之间的算数运算的执行方式.
要知道广播是在干什么,首先要知道,`numpy`中的`ndarray`之间的运算大都是点到点的运算(第一个ndarry中某一元素,与第二个ndarray中的相对应的元素做运算). 但是如果两个`ndarray`的维度不一样呢?这时候`numpy`怎么处理呢?

广播的存在就是为了处理不同形状的数组之间的算数运算问题.

**广播会在缺失和长度为1的维度上进行**
要搞懂这句话,先看一下几个代码. 以下是一种理解方式,并不代表numpy是这么实现的.
```python
a = np.zeros([2,2])
b = np.zeros([2, 2, 3])

c = b-a #这时候a会在第2维上广播,变成一个[2,2,3]的ndarray

############################
a = np.zeros([2,2])
b = np.zeros([3, 2, 2])

c = b-a #这时候a会在第0维上广播,变成一个[3,2,2]的ndarry

############################
a = np.zeros([2,2])
b = np.zeros([2, 3, 2])
c = a-b #如果你觉着a会变成一个[2,3,2]的ndarray的话,你就想错了.这句会报错

#可以缺失n个维度 n>=1

#以上介绍了在轴0上的广播, 下面来看一下在轴1上的广播

#############################
a = np.zeros([1, 2, 2])
b = np.zeros([3, 2, 2])
c = b-a #a会广播为[3,2,2]的ndarray

#############################
a = np.zeros([1, 2, 2])
b = np.zeros([3, 1, 2])
c = b-a # a会广播为[3,2,2]的ndarray,b会广播为[3,2,2]的ndarray

#############################
a = np.zeros([1, 2, 2])
b = np.zeros([3, 1, 1])
c = b-a # a会广播为[3,2,2]的ndarray,b会广播为[3,2,2]的ndarray
```
