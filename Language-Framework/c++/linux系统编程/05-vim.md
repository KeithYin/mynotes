# VIM

## 三种工作模式

* 命令模式：`编辑模式下 按 esc 进入， 命令行模式 双击 esc 回到命令模式`
* 命令行模式 : `命令模式下 输入 : 进入`
* 编辑模式：`命令模式下 输入 i 进入`



**命令行模式**

* ​



**命令模式**

* 光标的移动
  * `h 前,j 下,k 上,l 后`
  * `0 移动到头部，$移动到当前行 尾部`
  * `gg 移动到文件的开始位置, GG移动到文件的尾部`
  * `500G 移动到第500行`
* 删除，其实是剪切
  * `X 删除光标前面的字符， x 删除光标后面的字符`
  * `dw 删除下一个位置到第一个空格位置，删除word`
  * `d0 光标到行首， D删除到行尾`
  * `dd 删除当前行， 4dd 删除四行（当前光标所在行开始删）`
  * `u` 撤销操作，反撤销 `ctrl+r`
* 复制/粘贴
  * `p : 粘贴， P光标所在行上边`
  * `yy : 复制当前行，4yy：复制四行`
* 可视模式： **v** , 选中部分内容的复制粘贴。
  * 先移动光标，然后进入可视模式，然后选择想要操作的部分
  * `d：删除，y: 复制，p：粘贴`
* 文本查找：
  * 先按下 `/` 然后敲入想要找的 文本 `n:向下走，N:向上走` （当前光标向下查找）
  * `?` 当前光标位置向上查找
  * 将光标移动到 单词上，然后按 `#` 查找当前光标所在单词
* 缩进处理
  * `>>` 右缩进
  * `<<` 左缩进
* 使用 man 文档
  * 选中函数名，然后 按 `number K` number指定API在第几章



**命令模式--->文本模式**

* `a`: 插入到光标的后面
* `A`： 直接跳到行尾，然后插入
* `i`： 插入到光标前面
* `I` ：跳到行首
* `o`：光标所在位置向下开一行
* `O`：光标所在位置向上开一行
* `s` ：删除光标后面字符，然后可以插入
* `S`：删除光标所在行，然后插入



**命令行模型的操作**

* 行跳转：直接输入 `300` 回车就能跳到 300 行
* 字符传替换：
  * 按行操作：移动光标到指定行，然后进入命令行模式
    * `:s/jack/tom` 替换第一个 `jack` 到 `tom`
    * `:s/jack/tom/g` 此行所有 `jack` 到 `tom`
  * 所有文件操作
    * `:*s/jack/tom` :替换所有行第一个 jack 到 tom
    * `:*s/jack/tom/g` : 替换所有
    * `:10,10s/jack/tom/g` :第10行到 20行的所有 jack 到 tom
* 执行 shell 命令
  * `:!ls` ，感叹号+命令，然后回车就会执行了





**分屏操作，命令行模式下执行某命令**

* 水平分屏 `:sp` ，切换：`ctrl+ww`
* 垂直分屏 `vsp` ，`vsp filename` 。
* 关掉： `:q，:qall，wqall` 



**配置文件**

* 系统级配置文件： `/etc/vim/vimrc`
* 用户级别配置文件：`~/.vim/vimrc`

