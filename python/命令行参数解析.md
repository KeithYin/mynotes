# python命令行参数

```shell
$ python test.py arg1 arg2 arg3
```

`python`中可以使用 `sys.argv`获取命令行参数

```python
#python 代码
import sys
args = sys.argv #返回一个列表，arg[0]代表脚本名
print(args) #也可以对命令行的参数进行操作
```

```shell
#命令行
$ python test.py hello world
['test.py', 'hello', 'world']
```



## argparse

使用传统的`sys.argv`来做一些炫酷的传参操作还是挺麻烦的，毕竟要自己手写参数解析代码。`python`中的`argparse`包就是来拯救我们与水火之中的。

```python
import argparse

parser = argparse.ArgumentParser(description='Process some integers.')
parser.add_argument('integers', metavar='N', type=int, nargs='+',
                    help='an integer for the accumulator')
parser.add_argument('--sum', dest='accumulate', action='store_const',
                    const=sum, default=max,
                    help='sum the integers (default: find the max)')

args = parser.parse_args()
print(args.accumulate(args.integers))
```



上面是一个简短的例子，下面一步一步来看怎么用`argparse`

1. 创建一个`parser`

```python
parser = argparse.ArgumentParser(description='Process some integers.')
```

2. 添加参数

```python
parser.add_argument('integers', metavar='N', type=int, nargs='+',
                     help='an integer for the accumulator')
parser.add_argument('--sum', dest='accumulate', action='store_const',
                     const=sum, default=max,
                     help='sum the integers (default: find the max)')
```

